	TITLE	'PROGRAM PROLOGUE'
************************************************************************
*			                                     *
*  MICHAEL BEAVER	                                     *
*  CS 310, SPRING 2013	                                     *
*  PROGRAM 2                                                           *
*  DUE: MARCH 11, 2013                                                 *
*			                                     *
*  DESCRIPTION:                                                        *
*    THIS PROGRAM EXPECTS AS INPUT A DATA FILE CONTAINING 20 LINES OF  *
*    INTEGER DATA (ONE INTEGER PER LINE). THE PROGRAM WILL READ IN THE *
*    DATA FROM THE FILE AND STORE IT INTO A TABLE. NEXT, THE PROGRAM   *
*    WILL PRINT THE DATA FROM THE TABLE FROM FIRST-TO-LAST (IN THE     *
*    ORDER THE DATA WAS ORIGINALLY READ). NEXT, THE PROGRAM WILL PRINT *
*    THE DATA FROM THE TABLE FROM LAST-TO-FIRST (IN THE OPPOSITE ORDER *
*    THE DATA WAS ORIGINALLY READ). FINALLY, THE PROGRAM TERMINATES.   *
*			                                     *
*  REGISTER KEY:	                                     *
*    REG 2: INDEX POINTER FOR SUBROUTINES' LOOP-BASED TABLE OPERATIONS *
*    REG 3: DATA VALUE HOLDER FOR SUBROUTINES' OPERATIONS              *
*    REG 8: STEP-SIZE HOLDER FOR SUBROUTINES' LOOPS                    *
*    REG 9: TERMINAL VALUE HOLDER FOR SUBROUTINES' LOOPS               *
*    REG11: SUBROUTINE BRANCHING (BREAD CRUMBS)                        *
*			                                     *
************************************************************************
	TITLE 'MAIN PROGRAM: START AND BEGINNING HOUSEKEEPING'
BEAVER2  START
	SPACE 2
	STM	14,12,12(13)	   	BEGINNING HOUSEKEEPING
	BALR	12,0
	USING	SAVING,12
SAVING	ST	13,SAVEAREA+4
	LA	13,SAVEAREA
	TITLE 'MAIN PROGRAM: MAIN BODY'
	BAL	11,DATAREAD		READ IN DATA	
	SPACE 2
	BAL	11,PRINTFTL		PRINT TABLE FIRST-TO-LAST
	SPACE 2
	BAL	11,PRINTLTF		PRINT TABLE LAST-TO-FIRST
	TITLE 'MAIN PROGRAM: ENDING HOUSEKEEPING'
	L	13,SAVEAREA+4	   	ENDING HOUSEKEEPING
	LM	14,12,12(13)
	BR	14 
	TITLE 'MAIN PROGRAM: DECLARE STORAGE AND CONSTANTS'
SAVEAREA	DS	18F
DATATAB  DS    20F
CARD	DS	CL80
CARRIAGE	DC	C' '
OUTLINE	DS	CL12
	TITLE 'SUBROUTINE: READ DATA INTO TABLE'
DATAREAD	XPRNT	READSTRT,23
	SPACE 2
	LA	2,DATATAB
	LA	8,4
	LA	9,DATATAB+76
TOPREAD	XREAD	CARD,80		LOOP THRU DATA & STORE IN TABLE
	XDECI	3,CARD
	ST	3,0(2)
	BXLE	2,8,TOPREAD
	SPACE 2
	XPRNT	READEND,6
	BR	11		END DATAREAD SUBROUTINE
READSTRT	DC	C'1READING IN DATA . . . '
READEND	DC	C'+DONE.'
	TITLE	'SUBROUTINE: PRINT TABLE FIRST-TO-LAST'
PRINTFTL XPRNT	PFTLSTRT,41
	SPACE 2
	LA	2,DATATAB
	LA	8,4
	LA	9,DATATAB+76
TOPPFTL	L	3,0(2)		LOOP & PRINT TABLE FIRST-TO-LAST
	XDECO	3,OUTLINE
	XPRNT	CARRIAGE,13
	BXLE	2,8,TOPPFTL
	SPACE 2
	XPRNT	PFTLEND,29
	BR	11		END PRINTFTL SUBROUTINE
PFTLSTRT	DC	C'1PRINTING TABLE FROM FIRST-TO-LAST VALUE:'
PFTLEND	DC	C' DONE PRINTING FIRST-TO-LAST.'
	TITLE	'SUBROUTINE: PRINT TABLE LAST-TO-FIRST'
PRINTLTF	XPRNT PLTFSTRT,41
	SPACE	2
	LA	2,DATATAB+76
	L	8,=F'-4'
	LA	9,DATATAB-4
TOPPLTF	L	3,0(2)		LOOP & PRINT TABLE LAST-TO-FIRST
	XDECO	3,OUTLINE
	XPRNT	CARRIAGE,13
	BXH	2,8,TOPPLTF
	SPACE 2
	XPRNT	PLTFEND,29
	BR	11		END PRINTLTF SUBROUTINE
PLTFSTRT	DC	C'1PRINTING TABLE FROM LAST-TO-FIRST VALUE:'
PLTFEND	DC	C' DONE PRINTING LAST-TO-FIRST.'
	END	BEAVER2
$ENTRY DATA.DAT