#
#5000
#500
#100
#2700
#C:\Users\Michael\Desktop\Papers\Computer Science\CS 455\Team Project\Test Object Codes\TestFiles\Hamilton\AHPROG2.PRT
#
*ANDREW HAMILTON
*PROGRAMMING ASSIGNMENT #2
*3/13/13
*THIS PROGRAM WILL READ IN 20 LINES OF DATA CONTAINING ONE INTEGER
*PER LINE AND STORE THEM IN A TABLE TO BE PRINTED IN THE ORDER THEY
*WERE INPUT FROM THE DATA LINES, THEN IN REVERSE ORDER.
*REGISTER KEY
*REG 2 - CONTROL LOOP FOR BXLE AND BXH LOOPS IN THE INPUT AND PRINT
* ROUTINES
*REG 3 - USED TO INPUT DATA INTO THE TABLE IN THE INPUT ROUTINE. USED 
*  USED TO OUTPUT DATA FROM THE TABLE IN THE PRINT ROUTINES
*REG 4 - USED FOR THE STEP SIZE IN THE BXLE AND BXH LOOPS
*REG 5 - USED AS THE TERMINATING CONDITION IN THE BXLE AND BXH LOOPS
DATA2    START
         STM   14,12,12(13)
         BALR  12,0
         USING HERE,12
HERE     ST    13,SAVEAREA+4
         LA    13,SAVEAREA
         SPACE  
*CALL ROUTINES FOR DATA INPUT AND PRINT IN ORDER AND PRINT IN REVERSE
*ORDER
         BAL   11,INPUT       
         XPRNT =C'1IN ORDER OF DATA READ',22
         BAL   11,PRNTFRWD
         XPRNT =C'1REVERSE ORDER',14
         BAL   11,PRNTREV                         
         SPACE
         L     13,SAVEAREA+4
         LM    14,12,12(13)
         BR    14
SAVEAREA DS    18F
         SPACE
LINE     DS    CL80
TABLE    DS    20F
CC       DC    C'0'
OUT      DS    CL12
         SPACE
INPUT    LA    2,TABLE       SET REG  2 TO POINT TO TABLE AND SET THE
         LA    4,4           INCREMENT SIZE AND STOPPING CONDITION
         LA    5,TABLE+76    FOR THE INPUT LOOP
INPTLOOP XREAD LINE,80
         XDECI 3,LINE        LOOPS 20 TIMES, EACH LOOP ADDS A DATA  
         ST    3,0(2)        LINE TO THE TABLE
         BXLE  2,4,INPTLOOP
         BR    11
         SPACE
PRNTFRWD LA    2,TABLE       PRNTFRWD USES THE SAME LOOP SETUP AS 
         LA    4,4           INPTLOOP BUT IT PRINTS OUT EACH ELEMENT
         LA    5,TABLE+76    OF THE TABLE 
FRWD     L     3,0(2)
         XDECO 3,OUT
         XPRNT CC,13
         BXLE  2,4,FRWD
         BR    11
         SPACE
PRNTREV  LA    2,TABLE+76   SET REG 2 TO POINT TO THE END OF THE  
         L     4,=F'-4'     TABLE
         LA    5,TABLE-4    INCREMENT EACH LOOP BY -4
REV      L     3,0(2) 
         XDECO 3,OUT        EACH LOOP PRINTS AN ELEMENT OF THE
         XPRNT CC,13        TABLE
         BXH   2,4,REV
         BR    11
         END   DATA2
$ENTRY DATA2.TXT
